<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="doc-style.css" />
  <script src="doc-filelist.js"></script>
  <script>
    var relativeDir = "";
    var thisFile = "README.md";
    var defaultSidebar = true;
  </script>
  <script src="doc-script.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1.0" /></head>
<body>
  <nav>
<div class="logo"><a href="http://alinex.github.io"
  onmouseover="logo.src='https://alinex.github.io/images/Alinex-200.png'"
  onmouseout="logo.src='https://alinex.github.io/images/Alinex-black-200.png'">
  <img name="logo" src="https://alinex.github.io/images/Alinex-black-200.png"
    width="150" title="Alinex Universe Homepage" />
  </a>
  <img src="http://alinex.github.io/images/Alinex-200.png"
    style="display:none" alt="preloading" />
</div>
<div class="links">
  <a href="http://alinex.github.io/blog"
    class="btn btn-primary"><span class="glyphicon-pencil"></span> Blog</a>
  <a href="http://alinex.github.io/develop"
    class="btn btn-primary"><span class="glyphicon-book"></span> Develop</a>
  <a href="http://alinex.github.io/code.html"
    class="btn btn-warning"><span class="glyphicon-cog"></span> Code</a>
</div>
</nav><div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#package-alinex-dbreport">Package: alinex-dbreport</a>
      </div>

      <div class="heading h2">
        <a href="#install">Install</a>
      </div>

      <div class="heading h3">
        <a href="#bash-code-completion">Bash Code completion</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h2">
        <a href="#configuration">Configuration</a>
      </div>

      <div class="heading h3">
        <a href="#jobs">jobs</a>
      </div>

      <div class="heading h4">
        <a href="#meta-data">Meta Data</a>
      </div>

      <div class="heading h4">
        <a href="#queries">Queries</a>
      </div>

      <div class="heading h4">
        <a href="#compose">Compose</a>
      </div>

      <div class="heading h4">
        <a href="#email">Email</a>
      </div>

      <div class="heading h3">
        <a href="#email-templates">Email Templates</a>
      </div>

      <div class="heading h4">
        <a href="#transport">Transport</a>
      </div>

      <div class="heading h4">
        <a href="#addressing">Addressing</a>
      </div>

      <div class="heading h4">
        <a href="#content">Content</a>
      </div>

      <div class="heading h3">
        <a href="#database">Database</a>
      </div>

      <div class="heading h2">
        <a href="#compose-1">Compose</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container" tabindex="0"><a id="fork" href="https://github.com/alinex/node-dbreport" title="Fork me on GitHub"></a>
    <div class="docs markdown"><div class="pilwrap" id="package-alinex-dbreport">
  <h1>
    <a href="#package-alinex-dbreport" name="package-alinex-dbreport" class="pilcrow"></a>
Package: alinex-dbreport
  </h1>
</div>
<p><a href="https://travis-ci.org/alinex/node-dbreport"><img src="https://travis-ci.org/alinex/node-dbreport.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/r/alinex/node-dbreport?branch=master"><img src="https://coveralls.io/repos/alinex/node-dbreport/badge.png?branch=master" alt="Coverage Status"></a>
<a href="https://gemnasium.com/alinex/node-dbreport"><img src="https://gemnasium.com/alinex/node-dbreport.png" alt="Dependency Status"></a></p>
<p>Run some database queries and send their results using email. The main features are:</p>
<ul>
<li>work on any database</li>
<li>fully configurable</li>
<li>send results as csv</li>
<li>pretty email format</li>
<li>combine queries</li>
</ul>
<p>It can be started from command line or triggered using cron.</p>
<blockquote>
<p>It is one of the modules of the <a href="http://alinex.github.io/code.html">Alinex Universe</a>
following the code standards defined in the <a href="http://alinex.github.io/develop">General Docs</a>.</p>
</blockquote>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h2>
</div>
<p><a href="https://www.npmjs.com/package/alinex-dbreport"><img src="https://nodei.co/npm/alinex-dbreport.png?downloads=true&amp;downloadRank=true&amp;stars=true" alt="NPM">
<img src="https://nodei.co/npm-dl/alinex-dbreport.png?months=9&amp;height=3" alt="Downloads">
</a></p>
<p>Install the package globally using npm on a central server. From there all your
machines may be checked:</p>
<pre><code class="sh">sudo npm install -g alinex-dbreport --production
</code></pre>
<p>After global installation you may directly call <code>dbreport</code> from anywhere.</p>
<pre><code class="sh">dbreport --help
</code></pre>
<p>Always have a look at the latest <a href="Changelog.md.html">changes</a>.</p>
<div class="pilwrap" id="bash-code-completion">
  <h3>
    <a href="#bash-code-completion" name="bash-code-completion" class="pilcrow"></a>
Bash Code completion
  </h3>
</div>
<p>If you like, you can add code completion for bash by copying the output of:</p>
<pre><code class="text">&gt; scripter bashrc-script

###-begin-cli.coffee-completions-###
#
# yargs command completion script
#
# Installation: dbreport completion &gt;&gt; ~/.bashrc
#    or dbreport completion &gt;&gt; ~/.bash_profile on OSX.
#
_yargs_completions()
{
    local cur_word args type_list

    cur_word=&quot;${COMP_WORDS[COMP_CWORD]}&quot;
    args=$(printf &quot;%s &quot; &quot;${COMP_WORDS[@]}&quot;)

    # ask yargs to generate completions.
    type_list=`dbreport --get-yargs-completions $args`

    COMPREPLY=( $(compgen -W &quot;${type_list}&quot; -- ${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ ${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=( $(compgen -f -- &quot;${cur_word}&quot; ) )
    fi

    return 0
}
complete -F _yargs_completions dbreport
###-end-cli.coffee-completions-###
</code></pre>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<p>You can simple call the <code>dbreport</code> command with at least one of the configured
reports:</p>
<pre><code>&gt; dbreport &lt;job&gt;... [&lt;options&gt;]...

Initializing...
Run the jobs...
-&gt; tables
Goodbye
</code></pre>
<p>To get some more information call it with debugging:</p>
<pre><code>&gt; DEBUG=dbreport dbreport &lt;job&gt;... [&lt;options&gt;]...

Initializing...
Run the jobs...
-&gt; tables
  dbreport start tables job +0ms
  dbreport run query tables: SELECT table_schema, table_name FROM information_schema.tables ORDER BY table_schema, table_name +1ms
  dbreport tables: 641 rows fetched +88ms
  dbreport sending email to betriebsteam@mycompany.com.. +547ms
  dbreport using SMTP +3ms
  dbreport message send {accepted: [ 'betriebsteam@mycompany.com' ],
  rejected: [],
  response: '250 2.0.0 from MTA(smtp:[172.16.51.30]:10025): 250 2.0.0 Ok: queued as 7C61520AB5',
  envelope:
   { from: 'alexander.schilling@mycompany.com',
     to: [ 'betriebsteam@mycompany.com' ] },
  messageId: '1454671119582-6f16f637-c8a84be8-46bf2d0c@mycompany.com' } +2ms
Goodbye
</code></pre>
<p>Global options:</p>
<pre><code>-C, --nocolors  turn of color output
-v, --verbose   run in verbose mode
-h, --help      Show help
</code></pre>
<p>Use other email address for test:</p>
<pre><code>-m, --mail      give a specific mail address
-j, --json      give an optional object of variables to the job
</code></pre>
<div class="pilwrap" id="configuration">
  <h2>
    <a href="#configuration" name="configuration" class="pilcrow"></a>
Configuration
  </h2>
</div>
<p>The most parts are configurable without any code change.</p>
<div class="pilwrap" id="jobs">
  <h3>
    <a href="#jobs" name="jobs" class="pilcrow"></a>
jobs
  </h3>
</div>
<p>The main part is the configuration of each single, possible job. At best this
should be done each in it's own file like <code>/dbreport/job/xxxx</code>:</p>
<pre><code class="yaml"><span class="hljs-comment"># Test Job</span>
<span class="hljs-comment"># =================================================</span>

<span class="hljs-comment"># Job Meta</span>
<span class="hljs-comment"># -------------------------------------------------</span>
<span class="hljs-attr">title:</span> Vorhandene Tabellen
<span class="hljs-attr">description:</span> |+
  Dieser Bericht zeigt alle Tabellen die zum Zeitpunkt der Ausf√ºhrung in der manage
  life Datenbank existieren. Die genaue Liste liegt als tables.csv dieser Email bei.
<span class="hljs-attr">variables:</span>
<span class="hljs-attr">  schema:</span>
<span class="hljs-attr">    type:</span> <span class="hljs-string">'string'</span>

<span class="hljs-comment"># Queries to Run</span>
<span class="hljs-comment"># -------------------------------------------------</span>
<span class="hljs-attr">query:</span>
<span class="hljs-attr">  tables:</span>
<span class="hljs-attr">    title:</span> List of Tables
<span class="hljs-attr">    description:</span> a complete list of all relations in the database
<span class="hljs-attr">    database:</span> test_postgresql
<span class="hljs-attr">    command:</span> <span class="hljs-string">&gt;
      SELECT relname
      FROM pg_class
      WHERE relname !~ '^(pg_|sql_)' AND relkind = 'r'
      AND relname not like '<span class="hljs-template-variable">{{schema}}</span>.%';
</span><span class="hljs-attr">  indexes:</span>
<span class="hljs-attr">    title:</span> List of Indexes
<span class="hljs-attr">    description:</span> a complete list of all indexes in the database
<span class="hljs-attr">    database:</span> test_postgresql
<span class="hljs-attr">    command:</span> <span class="hljs-string">&gt;
      SELECT relname
      FROM pg_class
      WHERE relname !~ '^(pg_|sql_)' AND relkind = 'i';

# Compose
# -------------------------------------------------
</span><span class="hljs-attr">compose:</span>
<span class="hljs-attr">  all:</span>
<span class="hljs-attr">    title:</span> List of Objects
<span class="hljs-attr">    description:</span> a complete list of all objects in the database
    <span class="hljs-comment"># combine methods</span>
<span class="hljs-attr">    append:</span>
<span class="hljs-bullet">      -</span> tables
<span class="hljs-bullet">      -</span> indexes
<span class="hljs-attr">    join:</span>
<span class="hljs-attr">      tables:</span> inner
<span class="hljs-attr">      indexes:</span> inner
    <span class="hljs-comment"># select only some columns</span>
<span class="hljs-attr">    fields:</span> name, value
    <span class="hljs-comment"># sort the list</span>
<span class="hljs-attr">    sort:</span> relname
<span class="hljs-attr">    reverse:</span> <span class="hljs-literal">true</span>    
<span class="hljs-attr">    unique:</span> <span class="hljs-literal">true</span>
    <span class="hljs-comment"># change x and y axes</span>
<span class="hljs-attr">    flip:</span> <span class="hljs-literal">true</span>

<span class="hljs-comment"># Define contents</span>
<span class="hljs-comment"># -------------------------------------------------</span>
<span class="hljs-comment"># also go on for empty results - else skip</span>
<span class="hljs-attr">sendEmpty:</span> <span class="hljs-literal">true</span>
<span class="hljs-comment"># which csv files to send (list) or true for all</span>
<span class="hljs-attr">csv:</span>
<span class="hljs-bullet">  -</span> all
<span class="hljs-comment"># add pdf reports</span>
<span class="hljs-attr">pdf:</span>
<span class="hljs-attr">  example:</span>
<span class="hljs-attr">    title:</span> Example
<span class="hljs-attr">    format:</span> A4
<span class="hljs-attr">    orientation:</span> portrait
<span class="hljs-attr">    local:</span> de
<span class="hljs-attr">    content:</span> <span class="hljs-string">&gt;
      My handlebars template...

# Where to Send them to
# -------------------------------------------------
</span><span class="hljs-attr">email:</span>
<span class="hljs-attr">  base:</span> default
<span class="hljs-attr">  to:</span> betrieb@mycompany.com
</code></pre>
<p>As you see above you have the four parts to fill up:</p>
<ul>
<li>meta data to be used in the email like: '{{conf.title}}'</li>
<li>queries with a name, the db reference name and code to execute</li>
<li>compose options (optional)</li>
<li>email sending</li>
</ul>
<div class="pilwrap" id="meta-data">
  <h4>
    <a href="#meta-data" name="meta-data" class="pilcrow"></a>
Meta Data
  </h4>
</div>
<p>Here only the <code>title</code> and <code>description</code> can be set tzo be used within the email
template. They are useable as  <code>{{conf.title}}</code> or <code>{{conf.description}}</code> in the
template.</p>
<p>The variables object define which variables are used within this job. You have to
give them from the command line by <code>--json ...</code>.</p>
<div class="pilwrap" id="queries">
  <h4>
    <a href="#queries" name="queries" class="pilcrow"></a>
Queries
  </h4>
</div>
<p>This let you define multiple database queries to execute. They are given as an
object with an alias name as key. This name can be used later in composing
multiple queries together.</p>
<p>If no <code>compose</code> setting is given they will used directly as the attached csv files.
Therefore the <code>title</code>, <code>description</code> and <code>sort</code> settings may be given. The resulting
CSV file names will use the title or alias.</p>
<p>The <code>database</code> setting is a reference to the database connection to use. This is
defined separately (see below).</p>
<p>The <code>command</code> string is the SQL to be executed. This will be send as is to the
database server. So there are no variables possible.</p>
<div class="pilwrap" id="compose">
  <h4>
    <a href="#compose" name="compose" class="pilcrow"></a>
Compose
  </h4>
</div>
<p>If you want to compose multiple query results together this section allows for.
It should contain an object of compositions to send as separate files. The
key of each entry is used as an alias.</p>
<p>Each composition contains:</p>
<ul>
<li>title <string> - to be used as filename and as template variable</li>
<li>description <string> - to be used as template variable</li>
<li>append 'true' or <list of query aliases></li>
<li>join - specific join settings (see below)</li>
<li>sort [<field>]... - list of sort fields (prepend with '-' for decreasing order)</li>
<li>reverse <boolean> - will reverse the whole list if true</li>
<li>fields <list> - will remove all columns not listed here and sort columns after
the given list</li>
<li>unique <boolean> - set to true to remove completely duplicate rows</li>
<li>flip <boolean> - will change x- and y-axis within the table</li>
</ul>
<p>The join can be set to:</p>
<ul>
<li>'true' - to left join all tables</li>
<li>list of alias names - to left join the given tables</li>
<li>object - with alias name and join type (left, right, inner, outer, append)
which will be done in the given order</li>
</ul>
<div class="pilwrap" id="email">
  <h4>
    <a href="#email" name="email" class="pilcrow"></a>
Email
  </h4>
</div>
<p>Here you have the option to prevent sending empty emails (without attached csv)
by setting <code>sendEmpty</code> to <code>false</code>.</p>
<p>The email part is exactly like defined above in the base email settings. So you
have the possibility to overwrite each value written there with the ones here.</p>
<p>While the email mostly uses a 'base' template and only defines the parts which
are changed to the base template. So a proper use of the templates will help
you minimize the configuration for the jobs.</p>
<div class="pilwrap" id="email-templates">
  <h3>
    <a href="#email-templates" name="email-templates" class="pilcrow"></a>
Email Templates
  </h3>
</div>
<p>This templates are used for sending emails out. They will be defined under
<code>/email</code>:</p>
<pre><code class="yaml"><span class="hljs-comment"># Email Templates</span>
<span class="hljs-comment"># =================================================</span>


<span class="hljs-comment"># Default Email Templates</span>
<span class="hljs-comment"># -------------------------------------------------</span>
This will extend/overwrite the already existing setup within the code.
<span class="hljs-attr">default:</span>
  <span class="hljs-comment"># specify how to connect to the server</span>
<span class="hljs-attr">  transport:</span> smtp://alexander.schilling%<span class="hljs-number">40</span>mycompany.de:&lt;PASSWORD&gt;@mail.mycompany.de
  <span class="hljs-comment"># sender address</span>
<span class="hljs-attr">  from:</span> alexander.schilling@mycompany.de
<span class="hljs-attr">  replyTo:</span> somebody@mycompany.de

  <span class="hljs-comment"># content</span>
<span class="hljs-attr">  locale:</span> en
<span class="hljs-attr">  subject:</span> <span class="hljs-string">&gt;
    Database Report: <span class="hljs-template-variable">{{name}}</span>
</span><span class="hljs-attr">  body:</span> |+
    {{conf.title}}
    ==========================================================================

    {{conf.description}}

    Started at {{dateFormat date <span class="hljs-string">"LLL"</span>}}:

    | Zeilen | Datei    | Beschreibung <span class="hljs-string">|
    | ------:| -------- | ------------ |
    <span class="hljs-template-variable">{{#each result}}</span>
    | <span class="hljs-template-variable">{{rows}}</span> | <span class="hljs-template-variable">{{file}}</span> | <span class="hljs-template-variable">{{description}}</span> |
    <span class="hljs-template-variable">{{/each}}</span>

    Find the files attached to your mail if data available!
</span></code></pre>
<p>To make it more modular you may also add a <code>base</code> setting to use the setting defined
there as a base and the options here may overwrite or enhance the base setup.</p>
<div class="pilwrap" id="transport">
  <h4>
    <a href="#transport" name="transport" class="pilcrow"></a>
Transport
  </h4>
</div>
<p>The transport setting defines how to send the email. This should specify the
connection for the mail server to use for sending. It is possible to do this using
a connection url like above with the syntax:</p>
<pre><code>&lt;protocol&gt;://&lt;user&gt;:&lt;password&gt;@&lt;server&gt;:&lt;port&gt;
</code></pre>
<p>Or you may specify it as object like:</p>
<pre><code class="yaml"><span class="hljs-attr">transport:</span>
<span class="hljs-attr">  pool:</span> &lt;boolean&gt; <span class="hljs-comment"># use pooled connections defaults to false</span>
<span class="hljs-attr">  direct:</span> &lt;boolean&gt; <span class="hljs-comment"># set to true to try to connect directly to recipients MX</span>
<span class="hljs-attr">  service:</span> &lt;string&gt; <span class="hljs-comment"># name of well-known service (will set host, port and secure options)</span>
  <span class="hljs-comment"># services: 1und1, AOL, DebugMail.io, DynectEmail, FastMail, GandiMail, Gmail,</span>
  <span class="hljs-comment"># Godaddy, GodaddyAsia, GodaddyEurope, hot.ee, Hotmail, iCloud, mail.ee, Mail.ru,</span>
  <span class="hljs-comment"># Mailgun, Mailjet, Mandrill, Naver, Postmark, QQ, QQex, SendCloud, SendGrid,</span>
  <span class="hljs-comment"># SES, Sparkpost, Yahoo, Yandex, Zoho</span>
<span class="hljs-attr">  host:</span> &lt;string&gt; <span class="hljs-comment"># the hostname or IP address to connect to</span>
<span class="hljs-attr">  port:</span> &lt;integer&gt; <span class="hljs-comment"># the port to connect to (defaults to 25 or 465)</span>
<span class="hljs-attr">  secure:</span> &lt;boolean&gt; <span class="hljs-comment"># if true the connection will only use TLS else (the default)</span>
  <span class="hljs-comment"># TLS may still be upgraded to if available via the STARTTLS command</span>
<span class="hljs-attr">  ignoreTLS:</span> &lt;boolean&gt; <span class="hljs-comment"># if this is true and secure is false, TLS will not be used</span>
<span class="hljs-attr">  requireTLS:</span> &lt;boolean&gt; <span class="hljs-comment"># if this is true and secure is false, it uses STARTTLS</span>
  <span class="hljs-comment"># even if the server does not advertise support for it</span>
<span class="hljs-attr">  tls:</span> &lt;object&gt; <span class="hljs-comment"># additional socket options like `{rejectUnauthorized: true}`</span>
<span class="hljs-attr">  auth:</span> <span class="hljs-comment"># authentication objects</span>
<span class="hljs-attr">    user:</span> &lt;string&gt; <span class="hljs-comment"># the username</span>
<span class="hljs-attr">    pass:</span> &lt;string&gt; <span class="hljs-comment"># the password for the user</span>
<span class="hljs-attr">  authMethod:</span> &lt;string&gt; <span class="hljs-comment"># preferred authentication method, eg. ‚ÄòPLAIN‚Äô</span>
<span class="hljs-attr">  name:</span> &lt;string&gt; <span class="hljs-comment"># hostname of the client, used for identifying to the server</span>
<span class="hljs-attr">  localAddress:</span> &lt;string&gt; <span class="hljs-comment"># the local interface to bind to for network connections</span>
<span class="hljs-attr">  connectionTimeout:</span> &lt;integer&gt; <span class="hljs-comment"># milliseconds to wait for the connection to establish</span>
<span class="hljs-attr">  greetingTimeout:</span> &lt;integer&gt; <span class="hljs-comment"># milliseconds to wait for the greeting after connection is established</span>
<span class="hljs-attr">  socketTimeout:</span> &lt;integer&gt; <span class="hljs-comment"># milliseconds of inactivity to allow</span>
<span class="hljs-attr">  debug:</span> &lt;boolean&gt; <span class="hljs-comment"># set to true to log the complete SMTP traffic</span>
  <span class="hljs-comment"># if pool is set to true:</span>
<span class="hljs-attr">  maxConnections:</span> &lt;integer&gt; <span class="hljs-comment"># the count of maximum simultaneous connections (defaults to 5)</span>
<span class="hljs-attr">  maxMessages:</span> &lt;integer&gt; <span class="hljs-comment"># limits the message count to be sent using a single connection (defaults to 100)</span>
<span class="hljs-attr">  rateLimit:</span> &lt;integer&gt; <span class="hljs-comment"># limits the message count to be sent in a second (defaults to false)    </span>
</code></pre>
<div class="pilwrap" id="addressing">
  <h4>
    <a href="#addressing" name="addressing" class="pilcrow"></a>
Addressing
  </h4>
</div>
<p>First you can define the sender address using:</p>
<pre><code class="yaml"><span class="hljs-attr">from:</span> &lt;string&gt; <span class="hljs-comment"># the address used as sender(often the same as used in transport)</span>
<span class="hljs-attr">replyTo:</span> &lt;string&gt; <span class="hljs-comment"># address which should be used for replys</span>
</code></pre>
<p>And you give the addresses to send the mail to. In the following fields: <code>to</code>, <code>cc</code>
and <code>bcc</code> you may give a single address or a list of addresses to use.
All e-mail addresses can be plain e-mail addresses</p>
<pre><code>name@mymailserver.com
</code></pre>
<p>or with formatted name (includes unicode support)</p>
<pre><code>&quot;My Name&quot; &lt;name@mymailserver.com&gt;
</code></pre>
<div class="pilwrap" id="content">
  <h4>
    <a href="#content" name="content" class="pilcrow"></a>
Content
  </h4>
</div>
<p>The content of the mail consists of an subject line which should be not to long
and the body. The body is given as <a href="http://alinex.github.io/develop/lang/markdown.html">Markdown</a>
syntax and supports all possibilities from
<a href="http://alinex.github.io/node-report/README.md.html#markup%20syntax">report</a>.
This will be converted to a plain text and html version for sending so that the
mail client can choose the format to display.</p>
<p>Like you see above, you can use handlebar syntax to use some variables from the
code. This is possible in subject and body. And you may specify a
local to use for date formatting.</p>
<p>You can also define different templates which can be referenced from within the
job.</p>
<p>The following context variables are possible:</p>
<ul>
<li>name - the alias name for this job</li>
<li>conf... - configuration of job (object)</li>
<li>variables - list of variables</li>
<li>date - the date then the job was done (now)</li>
<li>result - data after Composing
<ul>
<li><job> - one entry for each job
<ul>
<li>title - title of the job (from config)</li>
<li>description - description of job (from config)</li>
<li>data - raw data</li>
<li>rows - number of rows in result (without heading)</li>
</ul>
</li>
</ul>
</li>
<li>attachments - list of attachments
<ul>
<li>
<entry>
- type - file type (extension)
- filename - file name
- description - description of file (from config)
- content - real data
- rows - number of rows contained (if applicable)
</li>
</ul>
</li>
</ul>
<p>Find more examples at <a href="http://alinex.github.io/node-validator/README.md.html#handlebars">validator</a>.</p>
<div class="pilwrap" id="database">
  <h3>
    <a href="#database" name="database" class="pilcrow"></a>
Database
  </h3>
</div>
<p>Also you need the setup under <code>/database</code> like described in
<a href="http://alinex.github.io/node-database">Database</a>.
This is used to make the specific database connections.</p>
<div class="pilwrap" id="compose-1">
  <h2>
    <a href="#compose-1" name="compose-1" class="pilcrow"></a>
Compose
  </h2>
</div>
<p>Like seen above the compose section can be used to</p>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p>Copyright 2016 Alexander Schilling</p>
<p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<blockquote>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
</blockquote>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</div>
  </div>
</body>
</html>
